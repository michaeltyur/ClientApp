<div class="container mt-3">
    <div class="row justify-content-center">
      <div class="col-4 jumbotron">
         <form [formGroup]="userForm">
          <h4 class="pb-2 form-title" *ngIf="client.email===''">Add New Client</h4>
          <h4 class="pb-2 form-title" *ngIf="client.email!==''">Update Client</h4>
          <!-- First Name -->
          <div class="form-group">
            <label for="firstNameInput">First Name</label>
            
            <span class="validation-alert alert-text" *ngIf="firstName.errors?.required">
                is required
            </span>
            <span class="validation-alert alert-text" *ngIf="firstName.errors?.minlength">
                must be greater than {{nameMinLength-1}}
            </span>
            <span class="validation-alert alert-text" *ngIf="firstName.errors?.maxlength">
                must be less than {{nameMaxLength-1}}
            </span>
              <input [formControl]="firstName"
                     type="text" 
                     class="form-control" 
                     placeholder="Enter first name"
                     id="firstNameInput"
                     #firstNameInput>
          </div>
          <!--End First Name -->
          
          <!-- Last Name -->
          <div class="form-group">
              <label for="lastNameInput">Last Name</label>

              <span class="validation-alert alert-text" *ngIf="lastName.errors?.required">
                is required
              </span>
              <span class="validation-alert alert-text" *ngIf="lastName.errors?.minlength">
                must be greater than {{nameMinLength-1}}
              </span>
              <span class="validation-alert alert-text" *ngIf="lastName.errors?.maxlength">
                must be less than {{nameMaxLength-1}}
              </span>
              <input [formControl]="lastName"
                     type="text" 
                     class="form-control" 
                     placeholder="Enter last name"  
                     id="lastNameInput"               
                     #lastNameInput>
          </div>
          <!--End Last Name -->

          <!-- Phone Number -->
          <div class="form-group">
            <label for="phoneInput">Phone Number</label>
            <span class="validation-alert alert-text" *ngIf="phone.errors?.required">
                is required
            </span>
            <span class="validation-alert process alert-text" *ngIf="phone.status==='PENDING'">
                Checking...
            </span>
            <span class="validation-alert alert-text" *ngIf="phone.errors?.phoneExist">
                number already exists
            </span>
            <span class="validation-alert alert-text" *ngIf="phone.errors?.minlength&&!phone.errors?.phoneasnumber">
                phone too short
            </span>
            <span class="validation-alert alert-text" *ngIf="phone.errors?.maxlength">
                phone too long
            </span>
            <span class="validation-alert alert-text" *ngIf="phone.errors?.phoneasnumber">
                must to be just a digits
            </span>
            <div class="input-group mb-3">
                    <div class="input-group-prepend">
                      <button class="btn btn-outline-secondary dropdown-toggle" 
                              type="button" 
                              data-toggle="dropdown" 
                              aria-haspopup="true" 
                              aria-expanded="false">{{selectedPrefix}}</button>
                      <div class="dropdown-menu">
                        <a class="dropdown-item" 
                        dropdownMenuItemHover
                           *ngFor="let prefix of phonePrefixs" (click)="onSelectPrefix(prefix)">
                            {{prefix}}
                      </a>
                      </div>
                    </div>
                    <!-- <input type="text" class="form-control" aria-label="Text input with dropdown button"> -->
                    <input [formControl]="phone"
                           maxlength="7"                          
                           type="text" 
                           class="form-control" 
                           placeholder="Enter phone number"       
                           id="phoneInput"         
                           #phoneInput>
                  </div>
        </div>
        <!--End Phone Number -->

        <!-- Email Address -->
          <div class="form-group">
           <label for="emailInput">Email address</label>
           <span class="validation-alert alert-text" *ngIf="email.errors?.required">
                is required
          </span>
          <span class="validation-alert alert-text" *ngIf="email.errors?.valid">
                is not valid
            </span>
          <input [formControl]="email"
                 type="email" 
                 class="form-control" 
                 placeholder="Enter email"   
                 id="emailInput"              
                 #emailInput>
      </div>
      <!--End Email Address -->
   <!-- Admin -->
   <div class="form-group">
    <div class="input-group mb-2 mr-sm-2">
      <div class="input-group-prepend">
        <div class="input-group-text">Admin</div>
      </div>
      <input [formControl]="admin" 
             type="text" 
             class="form-control" 
             id="adminInput" 
             placeholder="Admin" >
    </div>
  </div>
  <!--End Admin -->
          <div class="row">
            <div class="col">
               <button type="submit" 
                       class="btn btn-primary btn-block form-button"
                       appButtonHover
                       (click)="addClient()"
                       *ngIf="client.email===''">Add</button>
                <button type="submit" 
                       class="btn btn-primary btn-block form-button"
                       appButtonHover
                       *ngIf="client.email!==''"
                       (click)="updateClient()">Update</button>
            </div>
          </div>
          
        </form>
      </div>
    </div>  
</div>
